# Generated by Django 3.1.5 on 2021-04-14 17:43

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import multiselectfield.db.fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='NodeInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('node_no', models.CharField(max_length=4, unique=True, verbose_name='节点编号')),
                ('node_name', models.CharField(max_length=20, unique=True, verbose_name='节点名称')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
            ],
            options={
                'verbose_name': '01-节点信息',
                'verbose_name_plural': '01-节点信息',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ShelfMachine',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('cabinet', models.CharField(max_length=20, verbose_name='机柜')),
                ('unit', models.CharField(max_length=10, verbose_name='U位')),
                ('purpose', models.CharField(choices=[('1', '客户独用'), ('2', '客户共用'), ('3', '奇点自用'), ('9', '不确定')], default='1', max_length=2, verbose_name='使用方式')),
                ('assert_type', models.CharField(choices=[('1', '实体服务器'), ('2', '虚拟机'), ('3', '云服务器'), ('4', '交换机'), ('9', '不确定')], default='1', max_length=2, verbose_name='资产类型')),
                ('server_brand', models.CharField(max_length=20, verbose_name='服务器品牌')),
                ('server_model', models.CharField(max_length=50, verbose_name='服务器型号')),
                ('producticon_date', models.DateField(blank=True, max_length=50, null=True, verbose_name='出厂日期')),
                ('serial_number', models.CharField(max_length=50, verbose_name='服务器序列号')),
                ('IT_checked_number', models.CharField(max_length=20, verbose_name='IT验收编码')),
                ('assert_number', models.CharField(blank=True, max_length=20, null=True, verbose_name='资产编码')),
                ('disk_size', models.IntegerField(blank=True, null=True, verbose_name='硬盘大小G')),
                ('disk_type', models.CharField(blank=True, max_length=20, null=True, verbose_name='硬盘类型')),
                ('disk_serial', models.CharField(blank=True, max_length=50, null=True, verbose_name='硬盘序列号')),
                ('cpu_model', models.CharField(blank=True, max_length=40, null=True, verbose_name='cpu型号')),
                ('cpu_cores', models.CharField(blank=True, max_length=10, null=True, verbose_name='cpu核数')),
                ('memory', models.CharField(blank=True, max_length=20, null=True, verbose_name='内存')),
                ('os', models.CharField(blank=True, max_length=40, null=True, verbose_name='操作系统')),
                ('os_version', models.CharField(blank=True, max_length=40, null=True, verbose_name='系统版本')),
                ('inner_ip', models.GenericIPAddressField(verbose_name='内网IP')),
                ('outer_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='互联网IP')),
                ('high_trade_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速交易IP')),
                ('high_mqA_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速行情A_IP')),
                ('high_mqB_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速行情B_IP')),
                ('high_manager_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速管理IP')),
                ('ipmi_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='管理口IP')),
                ('is_active', models.CharField(choices=[('0', '不可用'), ('1', '正常'), ('4', '维修'), ('8', '已下架')], default='1', max_length=2, verbose_name='是否可用')),
                ('is_monitor', models.CharField(choices=[('0', '不可用'), ('1', '正常'), ('4', '维修'), ('8', '已下架')], default='1', max_length=2, verbose_name='是否监控')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
            ],
            options={
                'verbose_name': '11-已上架服务器',
                'verbose_name_plural': '11-已上架服务器',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ToraCustomer',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('custgroup_name', models.CharField(max_length=100, verbose_name='客户组名')),
                ('customer_NOs', models.CharField(blank=True, max_length=200, null=True, verbose_name='客户号')),
                ('nsight_user', models.CharField(blank=True, max_length=20, null=True, verbose_name='NSight客户信息')),
                ('company_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='公司名称')),
                ('address', models.CharField(blank=True, max_length=200, null=True, verbose_name='地址')),
                ('phone', models.CharField(max_length=40, verbose_name='手机号')),
                ('email', models.EmailField(max_length=254, verbose_name='邮箱')),
                ('status', models.CharField(choices=[('0', '暂停'), ('1', '激活')], default='1', max_length=2, verbose_name='状态')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('operator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='customer_oper', to=settings.AUTH_USER_MODEL, verbose_name='操作员')),
            ],
            options={
                'verbose_name': '05-奇点客户',
                'verbose_name_plural': '05-奇点客户',
                'ordering': ['-id'],
                'unique_together': {('custgroup_name',)},
            },
        ),
        migrations.CreateModel(
            name='ToraMqGroup',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mq_group_name', models.CharField(max_length=20, verbose_name='行情组名称')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
            ],
            options={
                'verbose_name': '04-行情组配置',
                'verbose_name_plural': '04-行情组配置',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, primary_key=True, related_name='userprofile', serialize=False, to='auth.user', verbose_name='操作员')),
                ('role', models.CharField(blank=True, max_length=20, verbose_name='角色')),
                ('phone', models.CharField(blank=True, max_length=40, unique=True, verbose_name='手机')),
                ('avatar', models.ImageField(blank=True, null=True, upload_to='avatar/%Y%m%d/', verbose_name='头像')),
                ('wechat', models.CharField(blank=True, max_length=40, null=True, verbose_name='微信号')),
            ],
            options={
                'verbose_name': '操作员信息',
                'verbose_name_plural': '操作员信息',
            },
        ),
        migrations.CreateModel(
            name='UpgradeTask',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('business', models.CharField(choices=[('hxzq', '现货股票'), ('sp', '期权'), ('rzrq', '两融'), ('qh', '期货')], max_length=20, verbose_name='业务')),
                ('component', multiselectfield.db.fields.MultiSelectField(blank=True, choices=[('tradeserver1', '主交易'), ('tradeserver2', '备交易'), ('node_md_L1', '节点沪深L1行情'), ('trade_front1', '交易前置1'), ('trade_front2', '交易前置2'), ('trade_front3', '交易前置3'), ('mq_front1', '行情前置1'), ('mq_front2', '行情前置2'), ('mq_front3', '行情前置3'), ('fens1', 'fens1'), ('fens2', 'fens2'), ('fens3', 'fens3')], max_length=123, null=True, verbose_name='升级组件')),
                ('upgrade_version', models.CharField(max_length=100, verbose_name='升级版本号')),
                ('upgrade_dir', models.CharField(blank=True, max_length=100, null=True, verbose_name='升级目录')),
                ('task_status', models.CharField(blank=True, choices=[('0', '待执行'), ('1', '执行完成'), ('2', '升级中'), ('3', '回退中'), ('4', '执行失败'), ('9', '其他')], default='0', max_length=10, null=True, verbose_name='任务状态')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('node', models.ManyToManyField(related_name='upgrade_node', to='toraapp.NodeInfo', verbose_name='节点编号')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='upgrade_user', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '00-升级任务',
                'verbose_name_plural': '00-升级任务',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TradeNode',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('business', models.CharField(choices=[('hxzq', '现货股票'), ('sp', '期权'), ('rzrq', '两融'), ('qh', '期货')], max_length=20, verbose_name='业务')),
                ('app_type', models.CharField(choices=[('tradeserver1', '主交易'), ('tradeserver2', '备交易'), ('node_md_L1', '节点沪深L1行情'), ('trade_front1', '交易前置1'), ('trade_front2', '交易前置2'), ('trade_front3', '交易前置3'), ('mq_front1', '行情前置1'), ('mq_front2', '行情前置2'), ('mq_front3', '行情前置3'), ('fens1', 'fens1'), ('fens2', 'fens2'), ('fens3', 'fens3')], max_length=20, verbose_name='服务类型')),
                ('ip_addr', models.CharField(max_length=40, verbose_name='地址')),
                ('port', models.CharField(max_length=20, verbose_name='端口')),
                ('intnet_addr', models.CharField(blank=True, max_length=100, null=True, verbose_name='互联网地址')),
                ('intnet_port', models.CharField(blank=True, max_length=20, null=True, verbose_name='互联网端口')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('node', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='trade_node', to='toraapp.nodeinfo', verbose_name='节点编号')),
            ],
            options={
                'verbose_name': '02-节点交易信息',
                'verbose_name_plural': '02-节点交易信息',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ToraService',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('business', models.CharField(choices=[('hxzq', '现货股票'), ('sp', '期权'), ('rzrq', '两融'), ('qh', '期货')], max_length=20, verbose_name='业务')),
                ('processes', models.CharField(blank=True, max_length=254, null=True, verbose_name='进程')),
                ('ports', models.CharField(blank=True, max_length=254, null=True, verbose_name='端口')),
                ('sse_trade_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SSE交易ip')),
                ('sse_dx_L2_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SSE电信L2行情')),
                ('sse_lt_L2_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SSE联通L2行情')),
                ('szse_trade1_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SZSE交易1')),
                ('szse_trade2_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SZSE交易2')),
                ('szse_L2_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='SZSEL2行情网段')),
                ('sse_nq_mq_A', models.GenericIPAddressField(blank=True, null=True, verbose_name='宁桥SSE行情A路地址')),
                ('sse_nq_mq_B', models.GenericIPAddressField(blank=True, null=True, verbose_name='宁桥SSE行情B路地址')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('machine', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='toraapp.shelfmachine', verbose_name='服务器信息')),
                ('node', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='service_node', to='toraapp.nodeinfo', verbose_name='节点编号')),
            ],
            options={
                'verbose_name': '奇点服务器进程和端口',
                'verbose_name_plural': '奇点服务器进程和端口',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ToraMq',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('business', models.CharField(choices=[('hxzq', '现货股票'), ('sp', '期权'), ('rzrq', '两融'), ('qh', '期货')], max_length=20, verbose_name='业务')),
                ('mq_type', models.CharField(choices=[('md_L2', '沪深行情L2'), ('md_L1', '沪深行情L1'), ('sse_md_L2', '沪市行情L2'), ('szse_md_L2A', '深市行情L2'), ('szse_md_L2B', '深市行情L2_FPGA'), ('qh_L1', '期货行情L1')], max_length=20, verbose_name='行情类型')),
                ('tele_pattern', models.CharField(choices=[('tcp', 'tcp连接'), ('udp', 'upd组播')], max_length=10, verbose_name='通讯模式')),
                ('ip_addr', models.CharField(max_length=40, verbose_name='地址')),
                ('port', models.CharField(max_length=20, verbose_name='端口')),
                ('md_rec_addr', models.CharField(blank=True, max_length=40, null=True, verbose_name='行情可接收地址段')),
                ('source_ip', models.CharField(blank=True, max_length=40, null=True, verbose_name='源IP')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('mq_group', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='group_mq', to='toraapp.toramqgroup', verbose_name='行情组')),
            ],
            options={
                'verbose_name': '06-行情服务信息',
                'verbose_name_plural': '06-行情服务信息',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='TaskFlow',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('apply_source', models.CharField(choices=[('0', 'toraapp'), ('1', 'nsight'), ('9', '其他')], default='0', max_length=2, verbose_name='发起来源')),
                ('task_type', models.CharField(choices=[('1', '设备上架'), ('2', '设备下架'), ('3', '更改操作系统'), ('4', '服务器维修'), ('5', '服务器移位'), ('6', '共享资源申请'), ('7', '共享资源回收'), ('8', '外网授权网络申请'), ('9', '操作员强制回收资源')], max_length=2, verbose_name='任务类型')),
                ('custgroup_name', models.CharField(blank=True, max_length=100, verbose_name='客户组名')),
                ('email', models.EmailField(max_length=254, verbose_name='邮箱')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('ownership', models.CharField(choices=[('1', '客户自购'), ('2', '华鑫采购'), ('3', 'Nsight自组机'), ('9', '不确定')], default='9', max_length=2, verbose_name='物主身份')),
                ('purpose', models.CharField(choices=[('1', '客户独用'), ('2', '客户共用'), ('3', '奇点自用'), ('9', '不确定')], default='9', max_length=2, verbose_name='使用方式')),
                ('is_new_vpn', models.CharField(choices=[('0', '否'), ('1', '是')], max_length=2, verbose_name='是否新分配vpn')),
                ('vpn_user_name', models.CharField(max_length=20, verbose_name='vpn用户名')),
                ('vpn_phone', models.CharField(blank=True, max_length=40, null=True, verbose_name='vpn注册手机号')),
                ('sys_user_name', models.CharField(blank=True, max_length=20, null=True, verbose_name='系统用户名')),
                ('sys_user_passwd', models.CharField(blank=True, max_length=40, null=True, verbose_name='系统密码')),
                ('access_action', models.CharField(choices=[('0', '无'), ('1', '新增'), ('2', '移除')], default='0', max_length=2, verbose_name='网络授权')),
                ('access_address', models.CharField(blank=True, max_length=200, null=True, verbose_name='授权外网地址端口')),
                ('access_finished', models.CharField(choices=[('0', '否'), ('1', '是')], default='0', max_length=2, verbose_name='网络授权完成状态')),
                ('cabinet', models.CharField(blank=True, max_length=20, null=True, verbose_name='机柜')),
                ('unit', models.CharField(blank=True, max_length=10, null=True, verbose_name='U位')),
                ('assert_type', models.CharField(choices=[('1', '实体服务器'), ('2', '虚拟机'), ('3', '云服务器'), ('4', '交换机'), ('9', '不确定')], default='1', max_length=2, verbose_name='资产类型')),
                ('server_brand', models.CharField(blank=True, max_length=20, null=True, verbose_name='服务器品牌')),
                ('server_model', models.CharField(blank=True, max_length=50, null=True, verbose_name='服务器型号')),
                ('producticon_date', models.DateField(blank=True, max_length=50, null=True, verbose_name='出厂日期')),
                ('serial_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='服务器序列号')),
                ('IT_checked_number', models.CharField(blank=True, max_length=20, null=True, verbose_name='IT验收编码')),
                ('os', models.CharField(blank=True, max_length=40, null=True, verbose_name='操作系统')),
                ('os_version', models.CharField(blank=True, max_length=40, null=True, verbose_name='系统版本')),
                ('inner_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='内网IP')),
                ('outer_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='互联网IP')),
                ('high_trade_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速交易IP')),
                ('high_mqA_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速行情A_IP')),
                ('high_mqB_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速行情B_IP')),
                ('high_manager_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='高速管理IP')),
                ('ipmi_ip', models.GenericIPAddressField(blank=True, null=True, verbose_name='管理口IP')),
                ('task_status', models.CharField(choices=[('0', '待处理'), ('1', '完成'), ('2', '挂起'), ('8', '作废'), ('9', '失败')], default='0', max_length=2, verbose_name='任务状态')),
                ('comment', models.CharField(blank=True, max_length=254, null=True, verbose_name='备注')),
                ('other_msg', models.TextField(blank=True, null=True, verbose_name='客户模板信息')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('customer', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='task_cust', to='toraapp.toracustomer', verbose_name='使用客户')),
                ('modify_oper', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='taskmodify_user', to=settings.AUTH_USER_MODEL, verbose_name='修改者')),
                ('node', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='task_node', to='toraapp.nodeinfo', verbose_name='节点编号')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='taskadd_user', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '10-运维任务流水',
                'verbose_name_plural': '10-运维任务流水',
                'ordering': ['-id'],
            },
        ),
        migrations.AddField(
            model_name='shelfmachine',
            name='customer',
            field=models.ManyToManyField(blank=True, related_name='use_cust', to='toraapp.ToraCustomer', verbose_name='使用者'),
        ),
        migrations.AddField(
            model_name='shelfmachine',
            name='node',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='machine_node', to='toraapp.nodeinfo', verbose_name='节点编号'),
        ),
        migrations.AddField(
            model_name='shelfmachine',
            name='operator',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='machine_oper', to=settings.AUTH_USER_MODEL, verbose_name='操作员'),
        ),
        migrations.AddField(
            model_name='shelfmachine',
            name='owner',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='owner_cust', to='toraapp.toracustomer', verbose_name='拥有者'),
        ),
        migrations.CreateModel(
            name='ShareServerInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('share_type', models.CharField(choices=[('1', '客户独用'), ('2', '客户共用'), ('3', '奇点自用'), ('9', '不确定')], max_length=2, verbose_name='共享类型')),
                ('is_active', models.CharField(choices=[('0', '不可用'), ('1', '正常'), ('4', '维修'), ('8', '已下架')], default='1', max_length=2, verbose_name='是否可用')),
                ('assigned_count', models.IntegerField(blank=True, default=0, null=True, verbose_name='已分配客户数量')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('assigned_cust', models.ManyToManyField(blank=True, related_name='share_server_cust', to='toraapp.ToraCustomer', verbose_name='已分配客户')),
                ('machine', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, to='toraapp.shelfmachine', verbose_name='服务器信息')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='shareser_add_oper', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '14-共享服务器信息',
                'verbose_name_plural': '14-共享服务器信息',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='ResourceApplyInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('req_type', models.CharField(choices=[('1', '资源申请'), ('2', '查询'), ('3', '单独网络申请'), ('5', '客户申请回收'), ('7', '操作员强制回收')], max_length=10, verbose_name='请求类型')),
                ('apply_id', models.CharField(max_length=14, unique=True, verbose_name='申请ID')),
                ('nsight_user', models.CharField(max_length=20, verbose_name='Nsight用户信息')),
                ('product_info', models.CharField(blank=True, max_length=20, null=True, verbose_name='用户产品信息')),
                ('inner_ip', models.CharField(max_length=20, verbose_name='内网IP')),
                ('outer_ip', models.CharField(blank=True, max_length=20, null=True, verbose_name='外网IP')),
                ('sys_user_name', models.CharField(blank=True, max_length=20, null=True, verbose_name='系统用户名')),
                ('sys_user_passwd', models.CharField(blank=True, max_length=40, null=True, verbose_name='系统用户密码')),
                ('vpn_address', models.CharField(blank=True, max_length=40, null=True, verbose_name='vpn连接地址')),
                ('vpn_user_name', models.CharField(blank=True, max_length=20, null=True, verbose_name='vpn用户名')),
                ('vpn_user_passwd', models.CharField(blank=True, max_length=40, null=True, verbose_name='vpn用户密码')),
                ('access_action', models.CharField(choices=[('0', '无'), ('1', '新增'), ('2', '移除')], default='0', max_length=2, verbose_name='网络操作')),
                ('customer_access', models.CharField(blank=True, max_length=200, null=True, verbose_name='外网访问地址端口')),
                ('req_status', models.CharField(choices=[('0', '待处理'), ('1', '已完成'), ('4', '已拒绝'), ('9', '处理失败')], default='0', max_length=2, verbose_name='请求状态')),
                ('res_msg', models.CharField(blank=True, max_length=200, null=True, verbose_name='返回消息')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('modify_oper', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='resouce_mod_oper', to=settings.AUTH_USER_MODEL, verbose_name='更新操作员')),
            ],
            options={
                'verbose_name': 'NSight资源申请',
                'verbose_name_plural': 'NSight资源申请',
                'ordering': ['-id'],
            },
        ),
        migrations.AddField(
            model_name='nodeinfo',
            name='mq',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='node_mq', to='toraapp.toramqgroup', verbose_name='对应行情组'),
        ),
        migrations.CreateModel(
            name='NodeComponentInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('business', models.CharField(choices=[('hxzq', '现货股票'), ('sp', '期权'), ('rzrq', '两融'), ('qh', '期货')], max_length=20, verbose_name='业务')),
                ('ip_addr', models.CharField(max_length=40, verbose_name='地址')),
                ('component', models.CharField(blank=True, max_length=100, null=True, verbose_name='组件')),
                ('port', models.CharField(blank=True, max_length=40, null=True, verbose_name='端口')),
                ('current_version', models.CharField(blank=True, max_length=100, null=True, verbose_name='当前版本')),
                ('upgrade_time', models.DateTimeField(blank=True, null=True, verbose_name='升级时间')),
                ('last_back_dir', models.CharField(blank=True, max_length=100, null=True, verbose_name='最新备份目录')),
                ('back_time', models.DateTimeField(blank=True, null=True, verbose_name='备份时间')),
                ('sys_status', models.CharField(blank=True, choices=[('0', '异常'), ('1', '正常'), ('2', '升级中'), ('3', '回退中'), ('4', '其他')], max_length=10, null=True, verbose_name='当前状态')),
                ('monitor_time', models.DateTimeField(blank=True, null=True, verbose_name='监控时间')),
                ('node', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='component_node', to='toraapp.nodeinfo', verbose_name='节点编号')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='comp_add_user', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '03-节点组件信息',
                'verbose_name_plural': '03-节点组件信息',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='Area',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=20, verbose_name='名称')),
                ('area_no', models.CharField(blank=True, max_length=20, null=True, verbose_name='区号')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='area_pare', to='toraapp.area', verbose_name='上级行政区划')),
            ],
            options={
                'verbose_name': '行政区划',
                'verbose_name_plural': '行政区划',
                'ordering': ['-id'],
            },
        ),
        migrations.CreateModel(
            name='VpnUserInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('vpn_address', models.CharField(blank=True, max_length=40, null=True, verbose_name='vpn连接地址')),
                ('vpn_user_name', models.CharField(max_length=20, verbose_name='vpn账号')),
                ('vpn_phone', models.CharField(max_length=40, verbose_name='vpn注册手机号')),
                ('vpn_user_passwd', models.CharField(blank=True, max_length=40, null=True, verbose_name='vpn密码')),
                ('cur_status', models.CharField(choices=[('0', '未分配'), ('1', '已使用'), ('2', '待回收'), ('3', '已回收')], default='1', max_length=2, verbose_name='当前状态')),
                ('nsight_user', models.CharField(blank=True, max_length=20, null=True, verbose_name='NSight客户信息')),
                ('server_list', models.TextField(blank=True, null=True, verbose_name='服务器列表')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('customer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='vpn_user_cust', to='toraapp.toracustomer', verbose_name='使用客户')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='vpnadd_oper', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '12-vpn账号信息',
                'verbose_name_plural': '12-vpn账号信息',
                'ordering': ['-id'],
                'unique_together': {('vpn_address', 'vpn_user_name')},
            },
        ),
        migrations.CreateModel(
            name='SystemUserInfo',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('engine_room', models.CharField(choices=[('shwp', '上海宛平'), ('shnq', '上海宁桥'), ('shgq', '上海外高桥'), ('shjq', '上海金桥'), ('shkj', '上海科技网'), ('shxt', '上海斜土路'), ('dgnf', '东莞南方')], max_length=10, verbose_name='机房')),
                ('inner_ip', models.GenericIPAddressField(verbose_name='内网IP')),
                ('sys_user_name', models.CharField(max_length=20, verbose_name='用户名')),
                ('sys_user_passwd', models.CharField(blank=True, max_length=40, null=True, verbose_name='密码')),
                ('cur_status', models.CharField(choices=[('0', '未分配'), ('1', '已使用'), ('2', '待回收'), ('3', '已回收')], default='0', max_length=2, verbose_name='当前状态')),
                ('nsight_user', models.CharField(blank=True, max_length=20, null=True, verbose_name='NSight客户信息')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('update_time', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('customer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sys_user_cust', to='toraapp.toracustomer', verbose_name='使用客户')),
                ('operator', models.ForeignKey(blank=True, on_delete=django.db.models.deletion.CASCADE, related_name='sysadd_oper', to=settings.AUTH_USER_MODEL, verbose_name='创建者')),
            ],
            options={
                'verbose_name': '13-系统账号信息',
                'verbose_name_plural': '13-系统账号信息',
                'ordering': ['-id'],
                'unique_together': {('inner_ip', 'sys_user_name')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='shelfmachine',
            unique_together={('serial_number',)},
        ),
    ]
