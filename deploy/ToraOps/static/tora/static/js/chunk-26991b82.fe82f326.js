(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26991b82"],{"4a49":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var l=a("b775");function r(){return Object(l["a"])({url:"/tora-customers/",method:"get"})}function o(e){return Object(l["a"])({url:"/tora-customers/",method:"post",data:e})}},5894:function(e,t,a){},"5f4b":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"80px"}},[a("h2",[e._v("基础信息")]),a("el-divider"),a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"任务类型",prop:"task_type"}},[a("el-select",{style:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.task_type,callback:function(t){e.$set(e.formData,"task_type",t)},expression:"formData.task_type"}},e._l(e.task_typeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"客户",prop:"custgroup_name"}},[a("el-autocomplete",{staticClass:"inline-input",style:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"查找客户","prefix-icon":"el-icon-search","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.formData.custgroup_name,callback:function(t){e.$set(e.formData,"custgroup_name",t)},expression:"formData.custgroup_name"}})],1)],1),a("el-col",{attrs:{span:2}},[a("el-form-item",{attrs:{"label-width":"10px",prop:"field105"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium"}},[e._v(" 新增 ")])],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"机房",prop:"engine_room"}},[a("el-select",{style:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.engine_room,callback:function(t){e.$set(e.formData,"engine_room",t)},expression:"formData.engine_room"}},e._l(e.engine_roomOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"物主身份",prop:"ownership"}},[a("el-select",{style:{width:"100%"},model:{value:e.formData.ownership,callback:function(t){e.$set(e.formData,"ownership",t)},expression:"formData.ownership"}},e._l(e.ownerOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"机器用途",prop:"purpose"}},[a("el-select",{style:{width:"100%"},model:{value:e.formData.purpose,callback:function(t){e.$set(e.formData,"purpose",t)},expression:"formData.purpose"}},e._l(e.purposeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1),a("el-card",{attrs:{shadow:"hover"}},[a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"新分配VPN",prop:"is_new_vpn"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.is_new_vpn,callback:function(t){e.$set(e.formData,"is_new_vpn",t)},expression:"formData.is_new_vpn"}},e._l(e.is_new_vpn_Options,(function(t,l){return a("el-radio",{key:l,attrs:{label:t.value,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"VPN用户名",prop:"vpn_user_name"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.vpn_user_name,callback:function(t){e.$set(e.formData,"vpn_user_name",t)},expression:"formData.vpn_user_name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"120px",label:"VPN手机号",prop:"vpnPhone"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.vpnPhone,callback:function(t){e.$set(e.formData,"vpnPhone",t)},expression:"formData.vpnPhone"}})],1)],1)],1)],1),a("h2",[e._v("服务器信息")]),a("el-divider"),a("el-card",{attrs:{shadow:"hover"}},[a("el-divider",{attrs:{"content-position":"left"}},[a("span",[e._v("资产信息")])]),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"资产类型",prop:"assert_type"}},[a("el-select",{style:{width:"80%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.assert_type,callback:function(t){e.$set(e.formData,"assert_type",t)},expression:"formData.assert_type"}},e._l(e.assert_typeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"服务器品牌",prop:"server_brand"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.server_brand,callback:function(t){e.$set(e.formData,"server_brand",t)},expression:"formData.server_brand"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"服务器型号",prop:"server_model"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.server_model,callback:function(t){e.$set(e.formData,"server_model",t)},expression:"formData.server_model"}})],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"服务器序列号",prop:"serial_number"}},[a("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.serial_number,callback:function(t){e.$set(e.formData,"serial_number",t)},expression:"formData.serial_number"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"IT验收编码",prop:"IT_checked_number"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.IT_checked_number,callback:function(t){e.$set(e.formData,"IT_checked_number",t)},expression:"formData.IT_checked_number"}})],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"节点编号",prop:"node"}},[a("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.node,callback:function(t){e.$set(e.formData,"node",t)},expression:"formData.node"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"操作系统",prop:"os"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.os,callback:function(t){e.$set(e.formData,"os",t)},expression:"formData.os"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"系统版本",prop:"os_version"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.os_version,callback:function(t){e.$set(e.formData,"os_version",t)},expression:"formData.os_version"}})],1)],1)],1),a("el-divider",{attrs:{"content-position":"left"}},[a("span",[e._v("网络信息")])]),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"内网IP",prop:"inner_ip"}},[a("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.inner_ip,callback:function(t){e.$set(e.formData,"inner_ip",t)},expression:"formData.inner_ip"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"互联网IP",prop:"outer_ip"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.outer_ip,callback:function(t){e.$set(e.formData,"outer_ip",t)},expression:"formData.outer_ip"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"管理口IP",prop:"ipmi_ip"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.ipmi_ip,callback:function(t){e.$set(e.formData,"ipmi_ip",t)},expression:"formData.ipmi_ip"}})],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"高速交易IP",prop:"high_trade_ip"}},[a("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.high_trade_ip,callback:function(t){e.$set(e.formData,"high_trade_ip",t)},expression:"formData.high_trade_ip"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"高速行情A_IP",prop:"high_mqA_ip"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.high_mqA_ip,callback:function(t){e.$set(e.formData,"high_mqA_ip",t)},expression:"formData.high_mqA_ip"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"高速行情B_IP",prop:"high_mqB_ip"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.high_mqB_ip,callback:function(t){e.$set(e.formData,"high_mqB_ip",t)},expression:"formData.high_mqB_ip"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"高速管理IP",prop:"high_manager_ip"}},[a("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.high_manager_ip,callback:function(t){e.$set(e.formData,"high_manager_ip",t)},expression:"formData.high_manager_ip"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{"label-width":"100px",label:"备注",prop:"comment"}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注内容，例如客户机器内置密码等"},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}})],1)],1)],1)],1),a("el-card",{attrs:{shadow:"hover"}},[a("el-button",{attrs:{type:"success"}},[e._v("检测完成")]),a("el-button",{attrs:{type:"primary"},on:{click:e.saveTaskFlowForm}},[e._v("保存")])],1)],1)],1)])},r=[],o=(a("4de4"),a("4160"),a("c975"),a("159b"),a("5530")),s=a("4a49"),i=a("f6e8"),n=a("2f62"),p={data:function(){return{state:"",customerList:[],formData:{id:"",task_type:"",customer:"",engine_room:"",ownership:"",purpose:"",is_new_vpn:"1",assert_type:"",vpn_user_name:"",vpnPhone:"",server_brand:"",server_model:"",serial_number:"",IT_checked_number:"",node:"",os:"",os_version:"",inner_ip:"",outer_ip:"",high_trade_ip:"",high_mqA_ip:"",high_mqB_ip:"",high_manager_ip:"",ipmi_ip:"",comment:"",operator:"",modify_oper:""},rules:{task_type:[{required:!0,message:"",trigger:"change"}],customer:[{required:!0,message:"",trigger:"blur"}],engine_room:[{required:!0,message:"",trigger:"change"}],node:[{required:!0,message:"",trigger:"change"}],owner:[],purpose:[]},task_typeOptions:[{label:"设备上架",value:"1"},{label:"设备下架",value:"2"},{label:"更改操作系统",value:"3"},{label:"服务器维修",value:"4"},{label:"服务器移位",value:"5"},{label:"其他",value:"9"}],engine_roomOptions:[{label:"上海宛平",value:"shwp"},{label:"上海宁桥",value:"shnq"},{label:"上海外高桥",value:"shgq"},{label:"上海金桥",value:"shjq"},{label:"上海科技网",value:"shkj"},{label:"上海斜土路",value:"shxtl"},{label:"东莞南方",value:"dgnf"}],ownerOptions:[{label:"客户自购",value:"1"},{label:"华鑫采购",value:"2"},{label:"Nsight自组机",value:"3"},{label:"不确定",value:"9"}],purposeOptions:[{label:"客户独用",value:"1"},{label:"奇点自用",value:"2"},{label:"客户共用",value:" 3"},{label:"不确定",value:"9"}],is_new_vpn_Options:[{label:"是",value:"1"},{label:"否",value:"0",disabled:!0}],assert_typeOptions:[{label:"实体服务器",value:"1"},{label:"虚拟机",value:"2"},{label:"云服务器",value:" 3"},{label:"交换机",value:" 4"},{label:"不确定",value:"9"}]}},computed:Object(o["a"])({},Object(n["b"])(["toraapp"])),watch:{},created:function(){},mounted:function(){var e=this;this.customerList=this.getCustomer(),this.formData.id=this.$route.query.taskflowid,Object(i["a"])(this.formData.id).then((function(t){e.formData=t,console.log("In the created",e.formData)})),this.setChoice()},methods:{setChoice:function(){console.log("This.toraapp")},querySearch:function(e,t){var a=this.customerList,l=e?a.filter(this.createFilter(e)):a;console.log("Query Results",l),t(l)},createFilter:function(e){return function(t){return-1!==t.value.toLowerCase().indexOf(e.toLowerCase())}},getCustomer:function(){var e=this;Object(s["b"])().then((function(t){e.customerList=[],t.results.forEach((function(t){e.customerList.push({id:t.id,value:t.custgroup_name})}))}))},handleSelect:function(e){this.formData.customer=e.id,console.log(e.id)},saveTaskFlowForm:function(){var e=this;console.log(this.formData),Object(i["c"])(this.formData).then((function(t){try{e.$message({message:"保存成功",type:"success"}),e.$router.push({path:e.redirect||"/TaskFlowForm/TaskFlowForm"})}catch(a){console.log("Occur an Error in SubmitForm",a)}}))}}},u=p,m=(a("6a4a"),a("2877")),c=Object(m["a"])(u,l,r,!1,null,"e307ef8e",null);t["default"]=c.exports},"6a4a":function(e,t,a){"use strict";a("5894")},f6e8:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var l=a("b775");function r(e,t){return null!==t&&void 0!==t?Object(l["a"])({url:"/task-flows/"+t+"/",method:"put",data:e}):Object(l["a"])({url:"/task-flows/",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/task-flows/"+e,method:"get"})}function s(e,t){return Object(l["a"])({url:"/task-flows/"+t+"/",method:"put",data:e})}}}]);