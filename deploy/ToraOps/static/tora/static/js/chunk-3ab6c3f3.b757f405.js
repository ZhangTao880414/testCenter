(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ab6c3f3"],{1276:function(e,t,r){"use strict";var a=r("d784"),o=r("44e7"),s=r("825a"),l=r("1d80"),i=r("4840"),n=r("8aa5"),u=r("50c4"),c=r("14c3"),m=r("9263"),p=r("d039"),f=[].push,d=Math.min,h=4294967295,g=!p((function(){return!RegExp(h,"y")}));a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(l(this)),s=void 0===r?h:r>>>0;if(0===s)return[];if(void 0===e)return[a];if(!o(e))return t.call(a,e,s);var i,n,u,c=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,g=new RegExp(e.source,p+"g");while(i=m.call(g,a)){if(n=g.lastIndex,n>d&&(c.push(a.slice(d,i.index)),i.length>1&&i.index<a.length&&f.apply(c,i.slice(1)),u=i[0].length,d=n,c.length>=s))break;g.lastIndex===i.index&&g.lastIndex++}return d===a.length?!u&&g.test("")||c.push(""):c.push(a.slice(d)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=l(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,o,r):a.call(String(o),t,r)},function(e,o){var l=r(a,e,this,o,a!==t);if(l.done)return l.value;var m=s(e),p=String(this),f=i(m,RegExp),_=m.unicode,b=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(g?"y":"g"),v=new f(g?m:"^(?:"+m.source+")",b),D=void 0===o?h:o>>>0;if(0===D)return[];if(0===p.length)return null===c(v,p)?[p]:[];var y=0,w=0,x=[];while(w<p.length){v.lastIndex=g?w:0;var k,O=c(v,g?p:p.slice(w));if(null===O||(k=d(u(v.lastIndex+(g?0:w)),p.length))===y)w=n(p,w,_);else{if(x.push(p.slice(y,w)),x.length===D)return x;for(var F=1;F<=O.length-1;F++)if(x.push(O[F]),x.length===D)return x;w=y=k}}return x.push(p.slice(y)),x}]}),!g)},"14c3":function(e,t,r){var a=r("c6b6"),o=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var s=r.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"4a49":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));var a=r("b775");function o(){return Object(a["a"])({url:"/tora-customers/",method:"get"})}function s(e){return Object(a["a"])({url:"/tora-customers/",method:"post",data:e})}},5521:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",[r("el-form",{ref:"TaskFlowform",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"80px"}},[r("h2",[e._v("基础信息")]),r("el-divider"),r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"任务类型",prop:"task_type"}},[r("el-select",{style:{width:"100%"},model:{value:e.formData.task_type,callback:function(t){e.$set(e.formData,"task_type",t)},expression:"formData.task_type"}},e._l(e.task_typeOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"客户",prop:"custgroup_name"}},[r("el-autocomplete",{staticClass:"inline-input",style:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"查找客户","prefix-icon":"el-icon-search","trigger-on-focus":!0},on:{select:e.handleSelect},model:{value:e.formData.custgroup_name,callback:function(t){e.$set(e.formData,"custgroup_name",t)},expression:"formData.custgroup_name"}})],1)],1),r("el-col",{attrs:{span:2}},[r("el-form-item",{attrs:{"label-width":"10px",prop:"field105"}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"medium"},on:{click:e.addNewCustomer}},[e._v(" 新增 ")])],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"邮箱",prop:"email"}},[r("el-input",{attrs:{clearable:""},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"机房",prop:"engine_room"}},[r("el-select",{style:{width:"100%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.engine_room,callback:function(t){e.$set(e.formData,"engine_room",t)},expression:"formData.engine_room"}},e._l(e.engine_roomOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"物主身份",prop:"ownership"}},[r("el-select",{style:{width:"100%"},model:{value:e.formData.ownership,callback:function(t){e.$set(e.formData,"ownership",t)},expression:"formData.ownership"}},e._l(e.ownerOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"机器用途",prop:"purpose"}},[r("el-select",{style:{width:"100%"},model:{value:e.formData.purpose,callback:function(t){e.$set(e.formData,"purpose",t)},expression:"formData.purpose"}},e._l(e.purposeOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1),r("h2",[e._v("网络信息")]),r("el-divider"),r("el-card",{attrs:{shadow:"hover"}},[r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"新分配VPN",prop:"is_new_vpn"}},[r("el-radio-group",{attrs:{size:"medium"},model:{value:e.formData.is_new_vpn,callback:function(t){e.$set(e.formData,"is_new_vpn",t)},expression:"formData.is_new_vpn"}},e._l(e.is_new_vpn_Options,(function(t,a){return r("el-radio",{key:a,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"VPN用户名",prop:"vpn_user_name"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.vpn_user_name,callback:function(t){e.$set(e.formData,"vpn_user_name",t)},expression:"formData.vpn_user_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"120px",label:"VPN手机号",prop:"vpn_phone"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.vpn_phone,callback:function(t){e.$set(e.formData,"vpn_phone",t)},expression:"formData.vpn_phone"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{"label-width":"120px",label:"网络权限申请",prop:"NetworkPermission"}},[r("el-button",{attrs:{type:"primary"}},[e._v("新增网络权限")]),r("span",[e._v(" * 网络权限暂时未做 ")])],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{"label-width":"120px",label:"权限申请状态"}},[0===e.formData.access_finished?r("el-tag",{key:e.formData.access_finished,staticStyle:{"margin-right":"10px"},attrs:{type:"danger",effect:"dark"}},[e._v(" 网络授权未完成 ")]):e._e(),1===e.formData.access_finished?r("el-tag",{key:e.formData.access_finished,staticStyle:{"margin-right":"10px"},attrs:{type:"success",effect:"dark"}},[e._v(" 网络授权已完成 ")]):e._e(),r("el-button",{attrs:{type:"success"},on:{click:e.setAccessFinished}},[e._v("申请成功")])],1)],1)],1)],1),r("h2",[e._v("服务器信息")]),r("el-divider"),r("el-card",{attrs:{shadow:"hover"}},[r("el-divider",{attrs:{"content-position":"left"}},[r("span",[e._v("资产信息")])]),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"资产类型",prop:"assert_type"}},[r("el-select",{style:{width:"80%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.assert_type,callback:function(t){e.$set(e.formData,"assert_type",t)},expression:"formData.assert_type"}},e._l(e.assert_typeOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"服务器品牌",prop:"server_brand"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.server_brand,callback:function(t){e.$set(e.formData,"server_brand",t)},expression:"formData.server_brand"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"服务器型号",prop:"server_model"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.server_model,callback:function(t){e.$set(e.formData,"server_model",t)},expression:"formData.server_model"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"服务器序列号",prop:"serial_number"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.serial_number,callback:function(t){e.$set(e.formData,"serial_number",t)},expression:"formData.serial_number"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"IT验收编码",prop:"IT_checked_number"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.IT_checked_number,callback:function(t){e.$set(e.formData,"IT_checked_number",t)},expression:"formData.IT_checked_number"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"房间号",prop:"cabinet"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.room_no,callback:function(t){e.$set(e.formData,"room_no",t)},expression:"formData.room_no"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"排编号",prop:"unit"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.row_no,callback:function(t){e.$set(e.formData,"row_no",t)},expression:"formData.row_no"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"机柜号",prop:"cabinet"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.cabinet,callback:function(t){e.$set(e.formData,"cabinet",t)},expression:"formData.cabinet"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"U位",prop:"unit"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.unit,callback:function(t){e.$set(e.formData,"unit",t)},expression:"formData.unit"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"节点编号",prop:"node"}},[r("el-select",{style:{width:"80%"},attrs:{filterable:"",clearable:""},model:{value:e.formData.node,callback:function(t){e.$set(e.formData,"node",t)},expression:"formData.node"}},e._l(e.NodeOptions,(function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"操作系统",prop:"os"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.os,callback:function(t){e.$set(e.formData,"os",t)},expression:"formData.os"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"系统版本",prop:"os_version"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.os_version,callback:function(t){e.$set(e.formData,"os_version",t)},expression:"formData.os_version"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[r("span",[e._v("服务器用户信息")])]),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"系统用户名",prop:"sys_user_name"}},[r("el-input",{style:{width:"80%"},model:{value:e.formData.sys_user_name,callback:function(t){e.$set(e.formData,"sys_user_name",t)},expression:"formData.sys_user_name"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"用户密码",prop:"sys_user_passwd"}},[r("el-input",{style:{width:"100%"},model:{value:e.formData.sys_user_passwd,callback:function(t){e.$set(e.formData,"sys_user_passwd",t)},expression:"formData.sys_user_passwd"}})],1)],1)],1),r("el-divider",{attrs:{"content-position":"left"}},[r("span",[e._v("网络信息")])]),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"内网IP",prop:"inner_ip"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.inner_ip,callback:function(t){e.$set(e.formData,"inner_ip",t)},expression:"formData.inner_ip"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"互联网IP",prop:"outer_ip"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.outer_ip,callback:function(t){e.$set(e.formData,"outer_ip",t)},expression:"formData.outer_ip"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{"label-width":"100px",label:"管理口IP",prop:"ipmi_ip"}},[r("el-input",{style:{width:"100%"},attrs:{clearable:""},model:{value:e.formData.ipmi_ip,callback:function(t){e.$set(e.formData,"ipmi_ip",t)},expression:"formData.ipmi_ip"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"110px",label:"高速交易IP",prop:"high_trade_ip"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.high_trade_ip,callback:function(t){e.$set(e.formData,"high_trade_ip",t)},expression:"formData.high_trade_ip"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"110px",label:"高速行情A_IP",prop:"high_mqA_ip"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.high_mqA_ip,callback:function(t){e.$set(e.formData,"high_mqA_ip",t)},expression:"formData.high_mqA_ip"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"110px",label:"高速行情B_IP",prop:"high_mqB_ip"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.high_mqB_ip,callback:function(t){e.$set(e.formData,"high_mqB_ip",t)},expression:"formData.high_mqB_ip"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"110px",label:"高速管理IP",prop:"high_manager_ip"}},[r("el-input",{style:{width:"80%"},attrs:{clearable:""},model:{value:e.formData.high_manager_ip,callback:function(t){e.$set(e.formData,"high_manager_ip",t)},expression:"formData.high_manager_ip"}})],1)],1)],1),r("el-row",[r("el-form-item",{attrs:{"label-width":"100px",label:"comment",prop:"comment"}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入备注内容，例如客户机器内置密码等"},model:{value:e.formData.comment,callback:function(t){e.$set(e.formData,"comment",t)},expression:"formData.comment"}})],1)],1)],1),r("el-row",{attrs:{type:"flex",justify:"start",align:"middle",gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"创建",prop:"operator"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.formData.operator,callback:function(t){e.$set(e.formData,"operator",t)},expression:"formData.operator"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{"label-width":"100px",label:"最后修改",prop:"modify_oper"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.formData.modify_oper,callback:function(t){e.$set(e.formData,"modify_oper",t)},expression:"formData.modify_oper"}})],1)],1)],1)],1),r("el-card",{attrs:{shadow:"hover"}},[r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.doneTaskFlowForm("TaskFlowform",!0)}}},[e._v(" 完成任务 ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveTaskFlowForm("TaskFlowform",!1)}}},[e.submitOrSave?r("span",[e._v(" 提交任务 ")]):e._e(),e.submitOrSave?e._e():r("span",[e._v(" 保存任务 ")])]),r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.showCompleteOtherMsg()}}},[e._v(" 自动识别 ")])],1)],1),r("el-dialog",{attrs:{title:"新增客户",visible:e.customerFormDialog,"center:true":""},on:{"update:visible":function(t){e.customerFormDialog=t}}},[r("el-form",{style:{width:"80%"},attrs:{model:e.customerForm,rules:e.CustomerRules,size:"small","label-width":"100px"}},[r("el-form-item",{attrs:{label:"客户组名"}},[r("el-input",{model:{value:e.customerForm.custgroup_name,callback:function(t){e.$set(e.customerForm,"custgroup_name",t)},expression:"customerForm.custgroup_name"}})],1),r("el-form-item",{attrs:{label:"客户号"}},[r("el-input",{model:{value:e.customerForm.customer_NOs,callback:function(t){e.$set(e.customerForm,"customer_NOs",t)},expression:"customerForm.customer_NOs"}})],1),r("el-form-item",{attrs:{label:"公司名称"}},[r("el-input",{attrs:{a:""},model:{value:e.customerForm.company_name,callback:function(t){e.$set(e.customerForm,"company_name",t)},expression:"customerForm.company_name"}})],1),r("el-form-item",{attrs:{label:"地址"}},[r("el-input",{model:{value:e.customerForm.address,callback:function(t){e.$set(e.customerForm,"address",t)},expression:"customerForm.address"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:e.customerForm.phone,callback:function(t){e.$set(e.customerForm,"phone",t)},expression:"customerForm.phone"}})],1),r("el-form-item",{attrs:{label:"邮箱"}},[r("el-input",{model:{value:e.customerForm.email,callback:function(t){e.$set(e.customerForm,"email",t)},expression:"customerForm.email"}})],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-input",{model:{value:e.customerForm.status,callback:function(t){e.$set(e.customerForm,"status",t)},expression:"customerForm.status"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.customerFormDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.handleAddNewCustomer()}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"识别信息",visible:e.otherMsgFormDialog,"center:true":""},on:{"update:visible":function(t){e.otherMsgFormDialog=t}}},[r("el-form",{style:{width:"80%"},attrs:{model:e.formData,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"识别信息框",type:"textarea"}},[r("el-input",{attrs:{type:"textarea",rows:15,placeholder:"请按规定格式输入识别信息"},model:{value:e.formData.other_msg,callback:function(t){e.$set(e.formData,"other_msg",t)},expression:"formData.other_msg"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.otherMsgFormDialog=!1}}},[e._v("取 消")]),r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.autoCompleteOtherMsg()}}},[e._v("确 定")])],1)],1)],1)])},o=[],s=(r("4de4"),r("4160"),r("c975"),r("b0c0"),r("a9e3"),r("ac1f"),r("1276"),r("159b"),r("5530")),l=r("4a49"),i=r("f6e8"),n=r("2f62"),u=r("b775");function c(){return Object(u["a"])({url:"/node-infos/",method:"get"})}var m=r("db4e"),p={data:function(){return{submitOrSave:!0,state:"",requiredFormItem:!1,customerList:[],customerFormDialog:!1,otherMsgFormDialog:!1,formData:{id:"",access_action:1,access_address:"",access_finished:0,task_type:"",customer:"",custgroup_name:"",engine_room:"",ownership:"",purpose:"",is_new_vpn:"1",assert_type:"",vpn_user_name:"",vpn_phone:"",server_brand:"",server_model:"",serial_number:"",room_no:"",row_no:"",IT_checked_number:"",node:"",os:"",os_version:"",inner_ip:"",outer_ip:"",high_trade_ip:"",high_mqA_ip:"",high_mqB_ip:"",high_manager_ip:"",ipmi_ip:"",comment:"",cabinet:"",unit:"",sys_user_name:"",sys_user_passwd:"",email:"",other_msg:"",operator:"",modify_oper:""},partFormData:{},customerForm:{id:"",operator:"admin",custgroup_name:"奇点项目组",customer_NOs:"",company_name:"全创",address:"",phone:"13681919346",email:"",status:"1",comment:""},rules:{task_type:[{required:!0,message:"请输入任务",trigger:"blur"}],custgroup_name:[{required:!0,message:"请输入客户组",trigger:"blur"}],engine_room:[{required:!0,message:"请输入机房",trigger:"change"}],node:[{required:!0,message:"请选择节点编号",trigger:"change"}],ownership:[{required:!1,message:"请输入物主",trigger:"change"}],purpose:[{required:!1,message:"请输入机器用途",trigger:"change"}],assert_type:[{required:!1,message:"",trigger:"change"}],high_manager_ip:[{required:!1,message:"",trigger:"change"}],high_mqA_ip:[{required:!1,message:"",trigger:"change"}],high_mqB_ip:[{required:!1,message:"",trigger:"change"}],high_trade_ip:[{required:!1,message:"",trigger:"change"}],inner_ip:[{required:!1,message:"",trigger:"change"}],ipmi_ip:[{required:!1,message:"",trigger:"change"}],outer_ip:[{required:!1,message:"",trigger:"change"}],vpn_user_name:[{required:!0,message:"",trigger:"change"}],vpn_phone:[{required:!0,message:"",trigger:"change"}]},CustomerRules:{custgroup_name:[{required:!0,message:"",trigger:"change"}],phone:[{required:!0,message:"",trigger:"change"}],email:[{required:!0,message:"",trigger:"change"}]},task_typeOptions:[],engine_roomOptions:[],ownerOptions:[],purposeOptions:[],is_new_vpn_Options:[{label:"是",value:"1"},{label:"否",value:"0",disabled:!0}],assert_typeOptions:[],NodeOptions:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(n["b"])(["toraapp"])),{},{toraapp:function(){return console.log(this.toraapp),this.toraapp}}),watch:{},created:function(){var e=this;this.customerList=this.getCustomer(),this.formData.id=this.$route.query.taskflowid;var t=this.formData.id;""!==t&&null!==t&&void 0!==t&&Object(i["a"])(this.formData.id).then((function(t){e.submitOrSave=!1,e.formData=t})),this.getNodeInfo(),this.settaskTypeOption(),this.setOwnerOption(),this.setPurposeOption(),this.setAssertOption(),this.setEngineRoomOption(),this.formData.operator=this.$store.getters.name,this.formData.modify_oper=this.$store.getters.name},mounted:function(){},methods:{setChoice:function(){console.log("This.toraapp",this.toraapp.data)},setTaskFlowStatus:function(e){this.$store.taskFlow.taskFlowStatus=e,console.log("Find the global state",this.$store.taskFlow.taskFlowStatus)},setRequired:function(e){this.rules.purpose[0].required=e,this.rules.ownership[0].required=e,this.rules.assert_type[0].required=e,this.rules.high_manager_ip[0].required=e,this.rules.high_mqA_ip[0].required=e,this.rules.high_mqB_ip[0].required=e,this.rules.high_trade_ip[0].required=e,this.rules.inner_ip[0].required=e,this.rules.ipmi_ip[0].required=e,this.rules.outer_ip[0].required=e},NetworkPermissionDone:function(){},addNewCustomer:function(){console.log("Edit form is",this.customerForm),this.customerFormDialog=!0},handleAddNewCustomer:function(){var e=this;Object(l["a"])(this.customerForm).then((function(t){e.$message({message:"新增客户成功",type:"success"}),e.customerFormDialog=!1,location.reload()})).catch((function(t){e.$message({message:"新增失败",type:"error"})}))},querySearch:function(e,t){var r=this.customerList,a=e?r.filter(this.createFilter(e)):r;console.log("Query Results",a),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t(a)}),2e3*Math.random())},createFilter:function(e){return function(t){return-1!==t.value.toLowerCase().indexOf(e.toLowerCase())}},getCustomer:function(){var e=this;Object(l["b"])().then((function(t){e.customerList=[],t.results.forEach((function(t){e.customerList.push({id:t.id,value:t.custgroup_name})}))}))},handleSelect:function(e){this.formData.customer=e.id,this.formData.custgroup_name=e.value},transTaskFlowForm:function(e,t){for(var r in e)""!==e[r]&&null!==e&&(t[r]=e[r])},saveTaskFlowForm:function(e,t){var r=this;this.setRequired(t),console.log("Set Required",this.requiredFormItem),console.log("imput data:",this.formData),console.log("getters: ",this.$store.getters),this.$refs[e].validate((function(e){if(!e)return console.log("必要字段填写不完整"),!1;console.log("this.formData.id",r.formData.id),null===r.formData.id||void 0===r.formData.id?(r.transTaskFlowForm(r.formData,r.partFormData),console.log("this.partFormData:",r.partFormData),Object(i["c"])(r.partFormData).then((function(e){try{r.$message({message:"保存成功",type:"success"}),r.$router.push({path:r.redirect||"/TaskFlowForm/TaskFlowForm"})}catch(t){console.log("Occur an Error in SubmitForm",t)}}))):(console.log(r.formData),Object(i["c"])(r.formData,r.formData.id).then((function(e){try{r.$message({message:"保存成功",type:"success"}),r.$router.push({path:r.redirect||"/TaskFlowForm/TaskFlowForm"})}catch(t){console.log("Occur an Error in SubmitForm",t)}})))}))},doneTaskFlowForm:function(e,t){var r=this;this.setRequired(t),this.$refs[e].validate((function(e){if(!e)return console.log("必要字段填写不完整"),!1;console.log(r.formData,r.id),r.formData.task_status=1,Object(i["b"])(r.formData,r.formData.id).then((function(e){try{console.log("Done the job",e.task_status),"1"===e.task_status?(r.$message({message:"任务完成",type:"success"}),r.$router.push({path:r.redirect||"/TaskFlowForm/TaskFlowForm"})):r.$message({message:"任务未完成，请检查必要信息填写",type:"error"})}catch(t){console.log("Occur an Error in SubmitForm",t)}}))}))},setAccessFinished:function(){this.formData.access_finished=1,this.$message({message:"网络权限已由外部申请成功，可完成此任务",type:"success"})},getNodeInfo:function(){var e=this;c().then((function(t){var r=t.results;for(var a in r){var o={label:r[a].node_name,value:r[a].id};e.NodeOptions.push(o)}}))},settaskTypeOption:function(){return Object(m["f"])(this.task_typeOptions)},setOwnerOption:function(){return Object(m["d"])(this.ownerOptions)},setPurposeOption:function(){return Object(m["e"])(this.purposeOptions)},setAssertOption:function(){return Object(m["b"])(this.assert_typeOptions)},setEngineRoomOption:function(){return Object(m["c"])(this.engine_roomOptions)},autoCompleteOtherMsg:function(){var e=this,t=this.formData.other_msg.split("\r\n"),r=this.$store.getters.toraapp;try{t.forEach((function(t){var a=t.split("：");if(void 0!==a[0]||""!==a[0])if(console.log("Has an item=========",a[0]),"机房"===a[0]){var o=a[1];e.formData.engine_room=e.choicesStr2key(r.ROOM_CHOICES,o)}else if("物主身份"===a[0]){var s=a[1];e.formData.ownership=e.choicesStr2key(r.OWNER_CHOICES,s)}else if("使用方式"===a[0]){var l=a[1];e.formData.purpose=e.choicesStr2key(r.PURPOSE_CHOICES,l)}else if("是否新分配vpn"===a[0]){var i=a[1];e.formData.is_new_vpn=e.choicesStr2key(r.BOOLEAN_CHOICES,i)}else if("vpn用户名"===a[0])e.formData.vpn_user_name=a[1].split("（")[0];else if("VPN注册所需手机号"===a[0])e.formData.vpn_phone=a[1];else if("资产类型"===a[0]){var n=a[1];e.formData.assert_type=e.choicesStr2key(r.ASSERT_CHOICES,n)}else if("服务器品牌和型号"===a[0]){var u=a[1];e.formData.server_brand=u.split(" ")[0],e.formData.server_model=u.split(" ")[1]}else if("SN号"===a[0])e.formData.serial_number=a[1];else if("接收邮箱"===a[0])e.formData.email=a[1];else if("外网授权"===a[0])e.formData.access_address=a[1];else if("账户池"===a[0]){console.log("Has an item in 账户池=========",a[0]);var c=!1;for(var m in e.customerList)e.customerList[m].value===a[1]&&(e.formData.custgroup_name=a[1],e.formData.customer=e.customerList[m].id,c=!0);c||e.$message({message:"无此用户，请新建用户后选择",type:"error"})}else if("节点编号"===a[0])for(var p in e.NodeOptions)e.NodeOptions[p].label===a[1]&&(e.formData.node=Number(e.NodeOptions[p].value));else{var f=a[0]+"："+a[1]+"\r\n";e.formData.comment+=f}})),console.log(this.formData),this.formData.other_msg=""}catch(a){this.$message({message:"格式错误 === "+a.val,type:"error"})}this.otherMsgFormDialog=!1},choicesStr2key:function(e,t){for(var r in e){if(e[r]===t)return r;throw new Error("格式错误，请检查识别信息格式")}},showCompleteOtherMsg:function(){this.formData.other_msg="机房：上海宛平\r\n使用方式：客户独用\r\n节点编号：东莞7\r\n物主身份：客户自购\r\n所需业务：现货、两融\r\n软件供应方：北京久驰科技有限公司\r\nvpn用户名：mathlhl_shwp（需新建）\r\nVPN注册所需手机号：17600066686\r\n实盘交易用户：330000013893---李海龙\r\n硬件配置：Dell R730, 2687w v4 *2, 64G内存\r\n操作系统：UbuntuServer 20.04 LTS（需帮忙重装）\r\n服务器品牌和型号：Dell R730\r\nSN号：BD5YLG2\r\n服务器系统初始密码：需要重装系统\r\n远程管理口密码：---不记得了\r\n接收邮箱：mathlhl@163.com\r\n外网授权：111.198.5.123\r\n产品标识：\r\n营业部：北京菜市口\r\n账户池：奇点项目组",this.otherMsgFormDialog=!0}}},f=p,d=(r("ddd8"),r("2877")),h=Object(d["a"])(f,a,o,!1,null,"d880c20c",null);t["default"]=h.exports},6547:function(e,t,r){var a=r("a691"),o=r("1d80"),s=function(e){return function(t,r){var s,l,i=String(o(t)),n=a(r),u=i.length;return n<0||n>=u?e?"":void 0:(s=i.charCodeAt(n),s<55296||s>56319||n+1===u||(l=i.charCodeAt(n+1))<56320||l>57343?e?i.charAt(n):s:e?i.slice(n,n+2):l-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},7156:function(e,t,r){var a=r("861d"),o=r("d2bb");e.exports=function(e,t,r){var s,l;return o&&"function"==typeof(s=t.constructor)&&s!==r&&a(l=s.prototype)&&l!==r.prototype&&o(e,l),e}},"8aa5":function(e,t,r){"use strict";var a=r("6547").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},9263:function(e,t,r){"use strict";var a=r("ad6d"),o=r("9f7f"),s=RegExp.prototype.exec,l=String.prototype.replace,i=s,n=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=o.UNSUPPORTED_Y||o.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],m=n||c||u;m&&(i=function(e){var t,r,o,i,m=this,p=u&&m.sticky,f=a.call(m),d=m.source,h=0,g=e;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(e).slice(m.lastIndex),m.lastIndex>0&&(!m.multiline||m.multiline&&"\n"!==e[m.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,h++),r=new RegExp("^(?:"+d+")",f)),c&&(r=new RegExp("^"+d+"$(?!\\s)",f)),n&&(t=m.lastIndex),o=s.call(p?r:m,g),p?o?(o.input=o.input.slice(h),o[0]=o[0].slice(h),o.index=m.lastIndex,m.lastIndex+=o[0].length):m.lastIndex=0:n&&o&&(m.lastIndex=m.global?o.index+o[0].length:t),c&&o&&o.length>1&&l.call(o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o}),e.exports=i},"9f7f":function(e,t,r){"use strict";var a=r("d039");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a9e3:function(e,t,r){"use strict";var a=r("83ab"),o=r("da84"),s=r("94ca"),l=r("6eeb"),i=r("5135"),n=r("c6b6"),u=r("7156"),c=r("c04e"),m=r("d039"),p=r("7c73"),f=r("241c").f,d=r("06cf").f,h=r("9bf2").f,g=r("58a8").trim,_="Number",b=o[_],v=b.prototype,D=n(p(v))==_,y=function(e){var t,r,a,o,s,l,i,n,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(s=u.slice(2),l=s.length,i=0;i<l;i++)if(n=s.charCodeAt(i),n<48||n>o)return NaN;return parseInt(s,a)}return+u};if(s(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var w,x=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof x&&(D?m((function(){v.valueOf.call(r)})):n(r)!=_)?u(new b(y(t)),r,x):y(t)},k=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;k.length>O;O++)i(b,w=k[O])&&!i(x,w)&&h(x,w,d(b,w));x.prototype=v,v.constructor=x,l(o,_,x)}},ac1f:function(e,t,r){"use strict";var a=r("23e7"),o=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},d784:function(e,t,r){"use strict";r("ac1f");var a=r("6eeb"),o=r("d039"),s=r("b622"),l=r("9263"),i=r("9112"),n=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),m=s("replace"),p=function(){return!!/./[m]&&""===/./[m]("a","$0")}(),f=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,m){var d=s(e),h=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=h&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[n]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!h||!g||"replace"===e&&(!u||!c||p)||"split"===e&&!f){var _=/./[d],b=r(d,""[e],(function(e,t,r,a,o){return t.exec===l?h&&!o?{done:!0,value:_.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),v=b[0],D=b[1];a(String.prototype,e,v),a(RegExp.prototype,d,2==t?function(e,t){return D.call(e,this,t)}:function(e){return D.call(e,this)})}m&&i(RegExp.prototype[d],"sham",!0)}},d9ff:function(e,t,r){},db4e:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return n})),r.d(t,"b",(function(){return u}));var a=r("4360");function o(e){for(var t in a["a"].getters.toraapp.ROOM_CHOICES)if(e===t)return a["a"].getters.toraapp.ROOM_CHOICES[t];return"error"}function s(e){for(var t in a["a"].getters.toraapp.TASK_CHOICES){var r={label:a["a"].getters.toraapp.TASK_CHOICES[t],value:t};e.push(r)}}function l(e){for(var t in a["a"].getters.toraapp.ROOM_CHOICES){var r={label:a["a"].getters.toraapp.ROOM_CHOICES[t],value:t};e.push(r)}}function i(e){for(var t in a["a"].getters.toraapp.OWNER_CHOICES){var r={label:a["a"].getters.toraapp.OWNER_CHOICES[t],value:t};e.push(r)}}function n(e){for(var t in a["a"].getters.toraapp.PURPOSE_CHOICES){var r={label:a["a"].getters.toraapp.PURPOSE_CHOICES[t],value:t};e.push(r)}}function u(e){for(var t in a["a"].getters.toraapp.ASSERT_CHOICES){var r={label:a["a"].getters.toraapp.ASSERT_CHOICES[t],value:t};e.push(r)}}},ddd8:function(e,t,r){"use strict";r("d9ff")},f6e8:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return l}));var a=r("b775");function o(e,t){return null!==t&&void 0!==t?Object(a["a"])({url:"/task-flows/"+t+"/",method:"put",data:e}):Object(a["a"])({url:"/task-flows/",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/task-flows/"+e,method:"get"})}function l(e,t){return Object(a["a"])({url:"/task-flows/"+t+"/",method:"put",data:e})}}}]);